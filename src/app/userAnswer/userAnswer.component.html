<div class="card">
  <div class="card-header">Questionary App </div>

  <div class="card-body">
    <form (ngSubmit)="Saveuestionary()"
          #questionaryForm="ngForm"
          novalidate>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label"
               for="questionNameId">Username</label>
        <div class="col-md-8">
          <input class="form-control"
                 id="questionNameId"
                 name="userName"
                 type="text"
                 [(ngModel)]="userName"
                 required
                 minlength="3"
                 maxlength="20"
                 (change)="isDuplicateUserName()"
                 placeholder="Username (required)" />

          <div>
            <span *ngIf="IsUserNameAvailable==true"
                  class="form-text text-danger text-left">User already exists!</span>
          </div>
        </div>
      </div>
      <br>

      <div class="form-group row mb-2"
           *ngFor="let question of questionsList; let i = index">
        <label>{{question.questionName}}</label>

        <mat-radio-group aria-labelledby="example-radio-group-label"
                         class="example-radio-group"
                         [name]="'userAnswers'+[i]"
                         [(ngModel)]="selectedAnswersIds[i]"
                         *ngIf="questionIds[i]">
          <mat-radio-button class="example-radio-button"
                            *ngFor="let answer  of questionsList[i].answers"
                            [value]="answer.answerId">{{answer.answerName}}

          </mat-radio-button>
        </mat-radio-group>
        <br>
        <hr>
      </div>

      <!-- <div *ngFor="let question of questionsList; let i = index">

          <label>{{question.questionName}}</label>
          <br>
          <mat-checkbox *ngFor="let answer  of questionsList[i].answers"
                        [value]="answer.answerId">{{answer.answerName}}
          </mat-checkbox>
        </div>
  -->
      <div class="form-group row mb-2">
        <div class="offset-md-2 col-md-4">
          <button class="btn btn-primary mr-3"
                  type="submit"
                  style="width:80px"
                  [disabled]="!questionaryForm.form.valid || IsUserNameAvailable==true"
                  (click)="refresh()"> Save </button>
        </div>
      </div>
    </form>
  </div>
</div>

<br>&nbsp;